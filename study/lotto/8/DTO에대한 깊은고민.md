단순하게 보았을 때 복잡도는 증가한다고 볼 수도 있지만, 오히려 두 레이어가 같은 DTO를 공유했을 때 오는 복잡도가 훨씬 클 수도 있습니다. (유지보수 비용이 더 많이 들 수도 있고요.)
그리고 변환 비용은, 사실 요즘같이 하드웨어가 발달한 시대에 이 정도 변환이 성능에 미치는 영향은 무시해도 좋을 정도로 미미합니다. (메모리가 정말 중요한 임베디드 개발, 게임 개발 등을 하는 것이 아니라면요)


사실상 정답은 없는건 알겠다 
근데 가장 큰 고민인 것은 


각각 DTO 사용에 장단점이있는데 

컨트롤러 서비스 각각에 디티오를 사용하면 
초반 설계는 어렵지만 유지보수성이 뛰어나다.

비즈니스 로직을 담당하는 Service 계층에서 View에 종속적인 Response Dto를 반환하는 것은
Service의 책임이 아니라 Controller의 책임이다.
이러한 이유로, 요청 Format이 변할 때 Service 계층까지 변경 영향이 미치는 것이 좋지 않다.

2. Service의 반환이 Response Dto일때, Service 간 의존을 한다면
   Dto보다는 도메인을 반환하는 것이 좋을 것이다.1번 방안에 대해서는 충분히 해결할 수 있는 방법같다.

하지만 결국 해당 Dto도 Service에서 View에 의존하는 것이라고 생각한다.

View에 응답할 정보가 변경된다면 해당 Dto도 변경될 것이기 때문이다.

또, 규모가 커진다면 Dto 관리가 엄청 어려워 질 것 같아서 선호하지 않을 것 같다.



2번에 대해서는 동의하지 않는다.

Service에서 Response Dto를 생성해서 Controller에 넘기면 도메인 로직이 실행될 가능성이 0%지만,

Service에서 도메인을 넘긴다면 도메인 로직이 실행될 가능성이 0%가 아니기 때문이다.

결국 코드 리뷰도 사람이 하는 것이기 때문에 휴먼 에러가 발생할 수 있고,

개발한 내가 제어할 수 없는 것이기 때문이다.

우아한형제들 기술 블로그의 'Controller와 Service 레이어의 강한 결합' 챕터 부분에 나와있다!





현재 생각으로는 2번 방법이 Web 응답 부분의 2번 방법의 Controller에서 도메인이 노출된다는 치명적인 단점은 없고,


이론적으로 컨트롤러와 서비스의 의존을 줄이는 방법으로 충분히 공감하지만

관리해야 할 Dto의 수가 늘어난다는 점이 별로라고 느껴지는 것 같다.



그리고 Controller와 Service가 원하는 포맷이 다르다는 상황을 아직 겪어보지 못했고,

일반적으로 쉽게 상상할 수 없어서 더 와닿지 않는 것 같다.



그래서 내린 결론은,

일반적으로는 Controller에서 Service로 Request Dto를 그대로 전달하고

Controller와 Service가 원하는 포맷이 달라지는 상황이 오면 그때 Service Dto를 만들어서 리팩토링 할 것 같다.

이후에 해당 상황을 겪고, 설계 시에 부분적으로 적용하거나 전체적으로 적용할 기준이 생기면 그때 적용할 것 같다!